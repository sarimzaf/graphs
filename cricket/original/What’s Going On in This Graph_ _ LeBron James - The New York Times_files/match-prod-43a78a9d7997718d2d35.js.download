/*! For license information please see match-prod-43a78a9d7997718d2d35.js.LICENSE.txt */
(()=>{var e={2215:(e,t,r)=>{var n,o,i;void 0===(o="function"==typeof(n=i=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var l in i)i[l]&&(a+="; "+l,!0!==i[l]&&(a+="="+i[l].split(";")[0]));return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],s=0;s<i.length;s++){var a=i[s].split("="),l=a.slice(1).join("=");r||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(a[0]);if(l=(n.read||n)(l,c)||t(l),r)try{l=JSON.parse(l)}catch(e){}if(o[c]=l,e===c)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))})?n.call(t,r,t,e):n)||(e.exports=o),e.exports=i()},6622:e=>{function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},3527:(e,t,r)=>{var n=r(2931);e.exports={wrapMethod:function(e,t,r){var o=e[t],i=e;if(t in e){var s="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),a=n.safeJoin(e," "),l={level:s,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(a="Assertion failed: "+(n.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),r&&r(a,l)):r&&r(a,l),o&&Function.prototype.apply.call(o,i,e)}}}}},6904:(e,t,r)=>{var n=r(5641),o=r(164),i=r(4185),s=r(6622),a=r(2931),l=a.isErrorEvent,c=a.isDOMError,u=a.isDOMException,h=a.isError,d=a.isObject,p=a.isPlainObject,f=a.isUndefined,g=a.isFunction,m=a.isString,v=a.isArray,y=a.isEmptyObject,_=a.each,b=a.objectMerge,E=a.truncate,w=a.objectFrozen,S=a.hasKey,x=a.joinRegExp,O=a.urlencode,R=a.uuid4,k=a.htmlTreeAsString,C=a.isSameException,T=a.isSameStacktrace,j=a.parseUrl,I=a.fill,A=a.supportsFetch,P=a.supportsReferrerPolicy,D=a.serializeKeysForMessage,N=a.serializeException,L=a.sanitize,U=r(3527).wrapMethod,M="source protocol user pass host port path".split(" "),B=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function F(){return+new Date}var H="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},$=H.document,q=H.navigator;function V(e,t){return g(t)?function(r){return t(r,e)}:t}function K(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!f($),this._hasNavigator=!f(q),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:H.SENTRY_RELEASE&&H.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:P()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=H.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=F(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=H.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}K.prototype={VERSION:"3.27.2",debug:!1,TraceKit:n,config:function(e,t){var r=this;if(r._globalServer)return this._logDebug("error","Error: Raven has already been configured"),r;if(!e)return r;var o=r._globalOptions;t&&_(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?r._globalContext[e]=t:o[e]=t})),r.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=x(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&x(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&x(o.whitelistUrls),o.includePaths=x(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},s=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(s)?s=b(i,s):!1!==s&&(s=i),o.autoBreadcrumbs=s;var a={tryCatch:!0},l=o.instrument;return"[object Object]"==={}.toString.call(l)?l=b(a,l):!1!==l&&(l=a),o.instrument=l,n.collectWindowErrors=!!o.collectWindowErrors,r},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(n.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,r=t._parseDSN(e),n=r.path.lastIndexOf("/"),o=r.path.substr(1,n);t._dsn=e,t._globalKey=r.user,t._globalSecret=r.pass&&r.pass.substr(1),t._globalProject=r.path.substr(n+1),t._globalServer=t._getGlobalServer(r),t._globalEndpoint=t._globalServer+"/"+o+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,r){return g(e)&&(r=t||[],t=e,e={}),this.wrap(e,t).apply(this,r)},wrap:function(e,t,r){var n=this;if(f(t)&&!g(e))return e;if(g(e)&&(t=e,e=void 0),!g(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,s=!e||e&&!1!==e.deep;for(r&&g(r)&&r.apply(this,arguments);i--;)o[i]=s?n.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw n._ignoreNextOnError(),n.captureException(t,e),t}}for(var i in t)S(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return n.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),H.addEventListener&&H.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return H.removeEventListener&&H.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(c(e)||u(e)){var r=e.name||(c(e)?"DOMError":"DOMException"),o=e.message?r+": "+e.message:r;return this.captureMessage(o,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(h(e));else{if(!p(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=n.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var r=Object.keys(t).sort(),n=b(e,{message:"Non-Error exception captured with keys: "+D(r),fingerprint:[i(r)],extra:e.extra||{}});return n.extra.__serialized__=N(t),n},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var r,o=b({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){r=e}r.name=null;var i=n.computeStackTrace(r),s=v(i.stack)&&i.stack[1];s&&"Raven.captureException"===s.func&&(s=i.stack[2]);var a=s&&s.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(a))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(a))){if(this._globalOptions.stacktrace||t.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=b({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(i,t);o.stacktrace={frames:l.reverse()}}return o.fingerprint&&(o.fingerprint=v(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=b({timestamp:F()/1e3},e);if(g(this._globalOptions.breadcrumbCallback)){var r=this._globalOptions.breadcrumbCallback(t);if(d(r)&&!y(r))t=r;else if(!1===r)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=V(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=V(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=V(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!(!this._hasJSON||!this._globalServer&&(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),1))},afterLoad:function(){var e=H.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if($){if(!(e=b({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new s("Missing eventId");if(!e.dsn)throw new s("Missing DSN");var t=encodeURIComponent,r=[];for(var n in e)if("user"===n){var o=e.user;o.name&&r.push("name="+t(o.name)),o.email&&r.push("email="+t(o.email))}else r.push(t(n)+"="+t(e[n]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),a=$.createElement("script");a.async=!0,a.src=i+"/api/embed/error-page/?"+r.join("&"),($.head||$.body).appendChild(a)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var r,n;if(this._hasDocument){for(n in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),$.createEvent?(r=$.createEvent("HTMLEvents")).initEvent(e,!0,!0):(r=$.createEventObject()).eventType=e,t)S(t,n)&&(r[n]=t[n]);if($.createEvent)$.dispatchEvent(r);else try{$.fireEvent("on"+r.eventType.toLowerCase(),r)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(r){if(t._keypressTimeout=null,t._lastCapturedEvent!==r){var n;t._lastCapturedEvent=r;try{n=k(r.target)}catch(e){n="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:n})}}},_keypressEventHandler:function(){var e=this;return function(t){var r;try{r=t.target}catch(e){return}var n=r&&r.tagName;if(n&&("INPUT"===n||"TEXTAREA"===n||r.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var r=j(this._location.href),n=j(t),o=j(e);this._lastHref=t,r.protocol===n.protocol&&r.host===n.host&&(t=n.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function r(t){return function(r,n){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var s=o[0];return g(s)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},s)),t.apply?t.apply(this,o):t(o[0],o[1])}}var n=this._globalOptions.autoBreadcrumbs;function o(r){var o=H[r]&&H[r].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(I(o,"addEventListener",(function(t){return function(o,i,s,a){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:r,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var l,c,u;return n&&n.dom&&("EventTarget"===r||"Node"===r)&&(c=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?c(e):"keypress"===t?u(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:r,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,l),s,a)}}),t),I(o,"removeEventListener",(function(e){return function(t,r,n,o){try{r=r&&(r.__raven_wrapper__?r.__raven_wrapper__:r)}catch(e){}return e.call(this,t,r,n,o)}}),t))}I(H,"setTimeout",r,t),I(H,"setInterval",r,t),H.requestAnimationFrame&&I(H,"requestAnimationFrame",(function(t){return function(r){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},r))}}),t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;s<i.length;s++)o(i[s])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,r=e._wrappedBuiltIns;function n(t,r){t in r&&g(r[t])&&I(r,t,(function(r){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:r&&r.name||"<anonymous>"}}},r)}))}if(t.xhr&&"XMLHttpRequest"in H){var o=H.XMLHttpRequest&&H.XMLHttpRequest.prototype;I(o,"open",(function(t){return function(r,n){return m(n)&&-1===n.indexOf(e._globalKey)&&(this.__raven_xhr={method:r,url:n,status_code:null}),t.apply(this,arguments)}}),r),I(o,"send",(function(t){return function(){var r=this;function o(){if(r.__raven_xhr&&4===r.readyState){try{r.__raven_xhr.status_code=r.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:r.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],s=0;s<i.length;s++)n(i[s],r);return"onreadystatechange"in r&&g(r.onreadystatechange)?I(r,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)})):r.onreadystatechange=o,t.apply(this,arguments)}}),r)}t.xhr&&A()&&I(H,"fetch",(function(t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];var o,i=r[0],s="GET";if("string"==typeof i?o=i:"Request"in H&&i instanceof H.Request?(o=i.url,i.method&&(s=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,r);r[1]&&r[1].method&&(s=r[1].method);var a={method:s,url:o,status_code:null};return t.apply(this,r).then((function(t){return a.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:a}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:a,level:"error"}),t}))}}),r),t.dom&&this._hasDocument&&($.addEventListener?($.addEventListener("click",e._breadcrumbEventHandler("click"),!1),$.addEventListener("keypress",e._keypressEventHandler(),!1)):$.attachEvent&&($.attachEvent("onclick",e._breadcrumbEventHandler("click")),$.attachEvent("onkeypress",e._keypressEventHandler())));var i=H.chrome,s=!(i&&i.app&&i.app.runtime)&&H.history&&H.history.pushState&&H.history.replaceState;if(t.location&&s){var a=H.onpopstate;H.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),a)return a.apply(this,arguments)};var l=function(t){return function(){var r=arguments.length>2?arguments[2]:void 0;return r&&e._captureUrlChange(e._lastHref,r+""),t.apply(this,arguments)}};I(H.history,"pushState",l,r),I(H.history,"replaceState",l,r)}if(t.console&&"console"in H&&console.log){var c=function(t,r){e.captureBreadcrumb({message:t,level:r.level,category:"console"})};_(["debug","info","warn","error","log"],(function(e,t){U(console,t,c)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],r=e[1],n=e[2];t[r]=n}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;_(this._plugins,(function(t,r){var n=r[0],o=r[1];n.apply(e,[e].concat(o))}))},_parseDSN:function(e){var t=B.exec(e),r={},n=7;try{for(;n--;)r[M[n]]=t[n]||""}catch(t){throw new s("Invalid DSN: "+e)}if(r.pass&&!this._globalOptions.allowSecretKey)throw new s("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return r},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var r=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,r,t)},_prepareFrames:function(e,t){var r=this,n=[];if(e.stack&&e.stack.length&&(_(e.stack,(function(t,o){var i=r._normalizeFrame(o,e.url);i&&n.push(i)})),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<n.length;o++)n[o].in_app=!1;return n=n.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var r={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(r.filename=t),r.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(r.filename)||/(Raven|TraceKit)\./.test(r.function)||/raven\.(min\.)?js$/.test(r.filename)),r},_processException:function(e,t,r,n,o,i){var s,a=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(a))&&(o&&o.length?(r=o[0].filename||r,o.reverse(),s={frames:o}):r&&(s={frames:[{filename:r,lineno:n,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(r))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(r)))){var l=b({exception:{values:[{type:e,value:t,stacktrace:s}]},transaction:r},i),c=l.exception.values[0];null==c.type&&""===c.value&&(c.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=b({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var r=e.exception.values[0];r.value=E(r.value,t)}var n=e.request;return n&&(n.url&&(n.url=E(n.url,this._globalOptions.maxUrlLength)),n.Referer&&(n.Referer=E(n.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,r,n,o=["to","from","url"],i=0;i<e.values.length;++i)if((r=e.values[i]).hasOwnProperty("data")&&d(r.data)&&!w(r.data)){n=b({},r.data);for(var s=0;s<o.length;++s)t=o[s],n.hasOwnProperty(t)&&n[t]&&(n[t]=E(n[t],this._globalOptions.maxUrlLength));e.values[i].data=n}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&q.userAgent&&(e.headers={"User-Agent":q.userAgent}),H.location&&H.location.href&&(e.url=H.location.href),this._hasDocument&&$.referrer&&(e.headers||(e.headers={}),e.headers.Referer=$.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&F()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?T(e.stacktrace,t.stacktrace):e.exception||t.exception?C(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var r;try{r=A()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),r=1e3*parseInt(r,10)}catch(e){}this._backoffDuration=r||2*this._backoffDuration||1e3,this._backoffStart=F()}}},_send:function(e){var t=this._globalOptions,r={project:this._globalProject,logger:t.logger,platform:"javascript"},n=this._getHttpData();n&&(r.request=n),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(r,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=F()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||y(e[t]))&&delete e[t]})),g(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!y(e)&&(g(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return L(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return R()},_sendProcessedPayload:function(e,t){var r=this,n=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var s=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:s,auth:o,data:e,options:n,onSuccess:function(){r._resetBackoff(),r._triggerEvent("success",{data:e,src:s}),t&&t()},onError:function(n){r._logDebug("error","Raven transport failed to send: ",n),n.request&&r._setBackoffState(n.request),r._triggerEvent("failure",{data:e,src:s}),n=n||new Error("Raven send failed (no additional details provided)"),t&&t(n)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+O(e.auth),r=null,n={};if(e.options.headers&&(r=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(n=this._evaluateHash(e.options.fetchParameters)),A()){n.body=o(e.data);var i=b({},this._fetchDefaults),s=b(i,n);return r&&(s.headers=r),H.fetch(t,s).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var r=new Error("Sentry error code: "+t.status);r.request=t,e.onError&&e.onError(r)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var a=H.XMLHttpRequest&&new H.XMLHttpRequest;a&&("withCredentials"in a||"undefined"!=typeof XDomainRequest)&&("withCredentials"in a?a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+a.status);t.request=a,e.onError(t)}}:(a=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(a.onload=e.onSuccess),e.onError&&(a.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=a,e.onError(t)})),a.open("POST",t),r&&_(r,(function(e,t){a.setRequestHeader(e,t)})),a.send(o(e.data)))},_evaluateHash:function(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];t[r]="function"==typeof n?n():n}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){f(t)?delete this._globalContext[e]:this._globalContext[e]=b(this._globalContext[e]||{},t)}},K.prototype.setUser=K.prototype.setUserContext,K.prototype.setReleaseContext=K.prototype.setRelease,e.exports=K},5687:(e,t,r)=>{var n=r(6904),o="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},i=o.Raven,s=new n;s.noConflict=function(){return o.Raven=i,s},s.afterLoad(),e.exports=s,e.exports.Client=n},2931:(e,t,r)=>{var n=r(164),o="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function s(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function c(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var r,n;if(i(e.length))for(r in e)d(e,r)&&t.call(null,r,e[r]);else if(n=e.length)for(r=0;r<n;r++)t.call(null,r,e[r])}function h(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"…"}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,r=[],n=0,o=e.length;n<o;n++)a(t=e[n])?r.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&r.push(t.source);return new RegExp(r.join("|"),"i")}function f(e){var t,r,n,o,i,s=[];if(!e||!e.tagName)return"";if(s.push(e.tagName.toLowerCase()),e.id&&s.push("#"+e.id),(t=e.className)&&a(t))for(r=t.split(/\s+/),i=0;i<r.length;i++)s.push("."+r[i]);var l=["type","name","title","alt"];for(i=0;i<l.length;i++)n=l[i],(o=e.getAttribute(n))&&s.push("["+n+'="'+o+'"]');return s.join("")}function g(e,t){return!!(!!e^!!t)}function m(e,t){if(g(e,t))return!1;var r,n,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var s=0;s<o.length;s++)if(r=o[s],n=i[s],r.filename!==n.filename||r.lineno!==n.lineno||r.colno!==n.colno||r.function!==n.function)return!1;return!0}function v(e){if("string"==typeof e)return h(e,40);if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function y(e,t){return 0===t?v(e):s(e)?Object.keys(e).reduce((function(r,n){return r[n]=y(e[n],t-1),r}),{}):Array.isArray(e)?e.map((function(e){return y(e,t-1)})):v(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:s,isString:a,isArray:l,isEmptyObject:function(e){if(!s(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:c,supportsReferrerPolicy:function(){if(!c())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,r){var n=e(t)||t;return r&&r(n)||n}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,r){e[t]=r})),e):e},truncate:h,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:d,joinRegExp:p,urlencode:function(e){var t=[];return u(e,(function(e,r){t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))})),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(t[0])+r(t[1])+r(t[2])+r(t[3])+r(t[4])+r(t[5])+r(t[6])+r(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,r=[],n=0,o=0;e&&n++<5&&!("html"===(t=f(e))||n>1&&o+3*r.length+t.length>=80);)r.push(t),o+=t.length,e=e.parentNode;return r.reverse().join(" > ")},htmlElementAsString:f,isSameException:function(e,t){return!g(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(r=e.stacktrace,n=t.stacktrace,(!i(r)||!i(n))&&m(e.stacktrace,t.stacktrace)));var r,n},isSameStacktrace:m,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),r=t[6]||"",n=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+r+n}},fill:function(e,t,r,n){if(null!=e){var o=e[t];e[t]=r(o),e[t].__raven__=!0,e[t].__orig__=o,n&&n.push([e,t,o])}},safeJoin:function(e,t){if(!l(e))return"";for(var r=[],n=0;n<e.length;n++)try{r.push(String(e[n]))}catch(e){r.push("[value cannot be serialized]")}return r.join(t)},serializeException:function e(t,r,o){if(!s(t))return t;o="number"!=typeof(r="number"!=typeof r?3:r)?51200:o;var i,a=y(t,r);return i=n(a),function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>o?e(t,r-1):a},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var r=e.length;r>0;r--){var n=e.slice(0,r).join(", ");if(!(n.length>t))return r===e.length?n:n+"…"}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var r,o=p(t);try{r=JSON.parse(n(e))}catch(t){return e}return function e(t){return l(t)?t.map((function(t){return e(t)})):s(t)?Object.keys(t).reduce((function(r,n){return o.test(n)?r[n]="********":r[n]=e(t[n]),r}),{}):t}(r)}}},5641:(e,t,r)=>{var n=r(2931),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},s=[].slice,a="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function c(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,r=[],u=null,h=null,d=null;function p(e,t){var n=null;if(!t||o.collectWindowErrors){for(var i in r)if(r.hasOwnProperty(i))try{r[i].apply(null,[e].concat(s.call(arguments,2)))}catch(e){n=e}if(n)throw n}}function f(t,r,i,s,u){var h=n.isErrorEvent(u)?u.error:u,f=n.isErrorEvent(t)?t.message:t;if(d)o.computeStackTrace.augmentStackTraceWithInitialElement(d,r,i,f),g();else if(h&&n.isError(h))p(o.computeStackTrace(h),!0);else{var m,v={url:r,line:i,column:s},y=void 0;"[object String]"==={}.toString.call(f)&&(m=f.match(l))&&(y=m[1],f=m[2]),v.func=a,p({name:y,message:f,url:c(),stack:[v]},!0)}return!!e&&e.apply(this,arguments)}function g(){var e=d,t=u;u=null,d=null,h=null,p.apply(null,[e,!1].concat(t))}function m(e,t){var r=s.call(arguments,1);if(d){if(h===e)return;g()}var n=o.computeStackTrace(e);if(d=n,h=e,u=r,setTimeout((function(){h===e&&g()}),n.incomplete?2e3:0),!1!==t)throw e}return m.subscribe=function(n){t||(e=i.onerror,i.onerror=f,t=!0),r.push(n)},m.unsubscribe=function(e){for(var t=r.length-1;t>=0;--t)r[t]===e&&r.splice(t,1)},m.uninstall=function(){t&&(i.onerror=e,t=!1,e=void 0),r=[]},m}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,r,n,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,h=e.stack.split("\n"),d=[],p=(/^(.*) is undefined$/.exec(e.message),0),f=h.length;p<f;++p){if(r=o.exec(h[p])){var g=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(t=u.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]),n={url:g?null:r[2],func:r[1]||a,args:g?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=i.exec(h[p]))n={url:r[2],func:r[1]||a,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=s.exec(h[p])))continue;r[3]&&r[3].indexOf(" > eval")>-1&&(t=l.exec(r[3]))?(r[3]=t[1],r[4]=t[2],r[5]=null):0!==p||r[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||a,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}if(!n.func&&n.line&&(n.func=a),n.url&&"blob:"===n.url.substr(0,5)){var m=new XMLHttpRequest;if(m.open("GET",n.url,!1),m.send(null),200===m.status){var v=m.responseText||"",y=(v=v.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(y){var _=y[1];"~"===_.charAt(0)&&(_=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+_.slice(1)),n.url=_.slice(0,-4)}}}d.push(n)}return d.length?{name:e.name,message:e.message,url:c(),stack:d}:null}}function t(e,t,r,n){var o={url:t,line:r};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=a),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function r(e,i){for(var s,l,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,h=[],d={},p=!1,f=r.caller;f&&!p;f=f.caller)if(f!==n&&f!==o.report){if(l={url:null,func:a,line:null,column:null},f.name?l.func=f.name:(s=u.exec(f.toString()))&&(l.func=s[1]),void 0===l.func)try{l.func=s.input.substring(0,s.input.indexOf("{"))}catch(e){}d[""+f]?p=!0:d[""+f]=!0,h.push(l)}i&&h.splice(0,i);var g={name:e.name,message:e.message,url:c(),stack:h};return t(g,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),g}function n(t,n){var i=null;n=null==n?0:+n;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=r(t,n+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:c()}}return n.augmentStackTraceWithInitialElement=t,n.computeStackTraceFromStackProp=e,n}(),e.exports=o},164:(e,t)=>{function r(e,t){for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}function n(e,t){var n=[],o=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,r(n,t)).join(".")+"]"}),function(i,s){if(n.length>0){var a=r(n,this);~a?n.splice(a+1):n.push(this),~a?o.splice(a,1/0,i):o.push(i),~r(n,s)&&(s=t.call(this,i,s))}else n.push(s);return null==e?s instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}(s):s:e.call(this,i,s)}}(e.exports=function(e,t,r,o){return JSON.stringify(e,n(t,o),r)}).getSerialize=n},4185:e=>{function t(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(e,r,n,o,i,s){return t((a=t(t(r,e),t(o,s)))<<(l=i)|a>>>32-l,n);var a,l}function n(e,t,n,o,i,s,a){return r(t&n|~t&o,e,t,i,s,a)}function o(e,t,n,o,i,s,a){return r(t&o|n&~o,e,t,i,s,a)}function i(e,t,n,o,i,s,a){return r(t^n^o,e,t,i,s,a)}function s(e,t,n,o,i,s,a){return r(n^(t|~o),e,t,i,s,a)}function a(e,r){var a,l,c,u,h;e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;var d=1732584193,p=-271733879,f=-1732584194,g=271733878;for(a=0;a<e.length;a+=16)l=d,c=p,u=f,h=g,d=n(d,p,f,g,e[a],7,-680876936),g=n(g,d,p,f,e[a+1],12,-389564586),f=n(f,g,d,p,e[a+2],17,606105819),p=n(p,f,g,d,e[a+3],22,-1044525330),d=n(d,p,f,g,e[a+4],7,-176418897),g=n(g,d,p,f,e[a+5],12,1200080426),f=n(f,g,d,p,e[a+6],17,-1473231341),p=n(p,f,g,d,e[a+7],22,-45705983),d=n(d,p,f,g,e[a+8],7,1770035416),g=n(g,d,p,f,e[a+9],12,-1958414417),f=n(f,g,d,p,e[a+10],17,-42063),p=n(p,f,g,d,e[a+11],22,-1990404162),d=n(d,p,f,g,e[a+12],7,1804603682),g=n(g,d,p,f,e[a+13],12,-40341101),f=n(f,g,d,p,e[a+14],17,-1502002290),d=o(d,p=n(p,f,g,d,e[a+15],22,1236535329),f,g,e[a+1],5,-165796510),g=o(g,d,p,f,e[a+6],9,-1069501632),f=o(f,g,d,p,e[a+11],14,643717713),p=o(p,f,g,d,e[a],20,-373897302),d=o(d,p,f,g,e[a+5],5,-701558691),g=o(g,d,p,f,e[a+10],9,38016083),f=o(f,g,d,p,e[a+15],14,-660478335),p=o(p,f,g,d,e[a+4],20,-405537848),d=o(d,p,f,g,e[a+9],5,568446438),g=o(g,d,p,f,e[a+14],9,-1019803690),f=o(f,g,d,p,e[a+3],14,-187363961),p=o(p,f,g,d,e[a+8],20,1163531501),d=o(d,p,f,g,e[a+13],5,-1444681467),g=o(g,d,p,f,e[a+2],9,-51403784),f=o(f,g,d,p,e[a+7],14,1735328473),d=i(d,p=o(p,f,g,d,e[a+12],20,-1926607734),f,g,e[a+5],4,-378558),g=i(g,d,p,f,e[a+8],11,-2022574463),f=i(f,g,d,p,e[a+11],16,1839030562),p=i(p,f,g,d,e[a+14],23,-35309556),d=i(d,p,f,g,e[a+1],4,-1530992060),g=i(g,d,p,f,e[a+4],11,1272893353),f=i(f,g,d,p,e[a+7],16,-155497632),p=i(p,f,g,d,e[a+10],23,-1094730640),d=i(d,p,f,g,e[a+13],4,681279174),g=i(g,d,p,f,e[a],11,-358537222),f=i(f,g,d,p,e[a+3],16,-722521979),p=i(p,f,g,d,e[a+6],23,76029189),d=i(d,p,f,g,e[a+9],4,-640364487),g=i(g,d,p,f,e[a+12],11,-421815835),f=i(f,g,d,p,e[a+15],16,530742520),d=s(d,p=i(p,f,g,d,e[a+2],23,-995338651),f,g,e[a],6,-198630844),g=s(g,d,p,f,e[a+7],10,1126891415),f=s(f,g,d,p,e[a+14],15,-1416354905),p=s(p,f,g,d,e[a+5],21,-57434055),d=s(d,p,f,g,e[a+12],6,1700485571),g=s(g,d,p,f,e[a+3],10,-1894986606),f=s(f,g,d,p,e[a+10],15,-1051523),p=s(p,f,g,d,e[a+1],21,-2054922799),d=s(d,p,f,g,e[a+8],6,1873313359),g=s(g,d,p,f,e[a+15],10,-30611744),f=s(f,g,d,p,e[a+6],15,-1560198380),p=s(p,f,g,d,e[a+13],21,1309151649),d=s(d,p,f,g,e[a+4],6,-145523070),g=s(g,d,p,f,e[a+11],10,-1120210379),f=s(f,g,d,p,e[a+2],15,718787259),p=s(p,f,g,d,e[a+9],21,-343485551),d=t(d,l),p=t(p,c),f=t(f,u),g=t(g,h);return[d,p,f,g]}function l(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function c(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function u(e){var t,r,n="0123456789abcdef",o="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),o+=n.charAt(t>>>4&15)+n.charAt(15&t);return o}function h(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return l(a(c(e),8*e.length))}(h(e))}function p(e,t){return function(e,t){var r,n,o=c(e),i=[],s=[];for(i[15]=s[15]=void 0,o.length>16&&(o=a(o,8*e.length)),r=0;r<16;r+=1)i[r]=909522486^o[r],s[r]=1549556828^o[r];return n=a(i.concat(c(t)),512+8*t.length),l(a(s.concat(n),640))}(h(e),h(t))}e.exports=function(e,t,r){return t?r?p(t,e):u(p(t,e)):r?d(e):u(d(e))}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),self.fetch||(self.fetch=function(e,t){return t=t||{},new Promise((function(r,n){var o=new XMLHttpRequest,i=[],s=[],a={},l=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:l,headers:{keys:function(){return i},entries:function(){return s},get:function(e){return a[e.toLowerCase()]},has:function(e){return e.toLowerCase()in a}}}};for(var c in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,r){i.push(t=t.toLowerCase()),s.push([t,r]),a[t]=a[t]?a[t]+","+r:r})),r(l())},o.onerror=n,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(c,t.headers[c]);o.send(t.body||null)}))}),(()=>{"use strict";const e=()=>"undefined"!=typeof window?window[window.IterateObjectName]:r.g;var t=r(5687),n=r.n(t);const o=new class{containsErrorCode(e,t){return-1!==e.findIndex((e=>e.code===t))}error(e,t){n().captureException(e,t)}warning(e,t,r){const o={level:"warning",extra:t};void 0!==r&&(o.fingerprint=r),n().captureException(e,o),console.warn(e)}};class i{constructor(e){this.api=e}name(){o.error(new Error("Command doesn't have a name"))}}class s{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this.api=e,this.dispatchExecuteCommand=t,this.availableCommands={},r.forEach((e=>this.addCommand(e)))}addCommand(e){const t=new e;t instanceof i||o.error(new Error(`${t.name()} is not a subclass of Command`)),this.availableCommands[t.name()]=e}init(){const t=e();let r=[];null!=t&&null!=t.q&&(r=t.q);const n=this;function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.process(t)}o.onClose=t.onClose,o.onLoad=t.onLoad,o.onResponse=t.onResponse,o.contextBySurvey=t.contextBySurvey,o.IterableCallbacks=t.IterableCallbacks,(e=>{if("undefined"!=typeof window)try{window[window.IterateObjectName]=e}catch(e){if("TypeError"!==e.name||"Attempted to assign to readonly property."!==e.message)throw e}})(o),r.forEach((e=>this.process(e))),window.addEventListener("message",(e=>{"COMMAND"===e.data?.type&&this.process(e.data?.arguments)}),!1)}process(e){const t=Array.prototype.slice.call(e),r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\\s";return e.replace(new RegExp(`^([${t}]*)(.*?)([${t}]*)$`),"$2")}(t.shift()),n=this.availableCommands[r];if(void 0===n)o.error(new Error(`Invalid command: ${r}`));else{const e=new n(this.api),r=e.run.bind(e,...t);this.dispatchExecuteCommand(r)}}}const a={Agree:{name:"agree",label:"Agree — Disagree",type:"agree",allowedScales:[5,7],defaultScale:5},Yes:{name:"yes",label:"Yes — No",type:"yes",allowedScales:[5],defaultScale:5},Easy:{name:"easy",label:"Easy — Difficult",type:"easy",allowedScales:[5,7],defaultScale:5},Important:{name:"important",label:"Important — Unimportant",type:"important",allowedScales:[5],defaultScale:5},Excellent:{name:"excellent",label:"Excellent — Terrible",type:"excellent",allowedScales:[5],defaultScale:5},Numerical:{name:"numerical",label:"Numerical",type:"numerical",allowedScales:[3,5,7,10],defaultScale:5},Star:{name:"star",label:"★★★★★ Star rating",type:"image",image:"star",allowedScales:[3,5,7,10],defaultScale:5},Custom:{name:"custom",label:"Custom",type:"custom"}},{Star:l,...c}=a,u="iterate_hq",h="tracking_last_updated",d="unauthorized_request_count",p="user_traits";const f=new class{getAllData(){let e={};try{e=localStorage.getItem(u),void 0!==e&&(e=JSON.parse(e))}catch(e){}return{...e}}get(e){return this.getAllData()[e]}set(e,t){const r={};r[e]=t;const n={...this.getAllData(),...r};try{localStorage.setItem(u,JSON.stringify(n))}catch(e){}}delete(){localStorage.removeItem(u)}};const g=new class{constructor(e){this.storage=e}clear(){this.set({})}get(){return this.storage.get(p)||{}}validateTypes(e){if(null==e||"object"!=typeof e)return!1;const t={};return Object.entries(e).forEach((e=>{let[r,n]=e;switch(typeof n){case"boolean":case"number":case"string":t[r]=n;break;case"object":"[object Date]"!==Object.prototype.toString.call(n)||isNaN(n)||(t[r]={value:Math.floor(n.getTime()/1e3),type:"date"})}})),t}set(e){this.storage.set(p,e)}update(e,t){const r=this.get(),n=this.validateTypes(e),o={...r,...n};this.set(o);const i=JSON.stringify(r)!==JSON.stringify(o);return!0===i&&t({user_traits:o}),i}}(f),m=e=>{const t=[];return Object.entries(e).forEach((e=>{let[r,n]=e;t.push(`${encodeURIComponent(r)}=${encodeURIComponent(n)}`)})),t.join("&")},v=(e,t)=>(e=>{let t;const r=e.indexOf("?"),n=e.indexOf("#");if(-1!==r){const o=r+1,i=-1!==n&&n>r?n:void 0;t=e.substring(o,i)}if(t){let e={};try{let r="{";decodeURI(t).replace(/"/g,'\\"').split("&").forEach(((e,t,n)=>{const o=e.split("="),i=o[0],s=o.slice(1).join("=");r+=`"${i}": "${s}"`,t<n.length-1&&(r+=",")})),r+="}",e=JSON.parse(r)}catch(e){}return e}return{}})(t)[e];class y{constructor(e,t){this.apiClient=e,this.dispatchUrlChanged=t,this.startMonitoringPushState(),this.startMonitoringReplaceState(),this.startMonitoringPopState()}startMonitoringPopState(){window.addEventListener("popstate",(()=>{this.urlChanged()}))}startMonitoringPushState(){var e=this;this.originalPushState=window.history.pushState,window.history.pushState=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.originalPushState.apply(window.history,r),e.urlChanged()}}startMonitoringReplaceState(){var e=this;this.originalReplaceState=window.history.replaceState,window.history.replaceState=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.originalReplaceState.apply(window.history,r),e.urlChanged()}}urlChanged(){this.dispatchUrlChanged(this.apiClient,window.location.href)}}var _=r(2215),b=r.n(_);const E="iter_id",w="iter_opt_out",S=new class{loadAuth(){return b().get(E)}loadOptOut(){return b().get(w)}saveAuth(e,t){const r={expires:3650};!0===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).thirdParty&&(r.sameSite="none",r.secure=!0),null!=t&&(r.domain=`.${t}`),b().set(E,e,r)}saveOptOut(){b().set(w,"true",{expires:3650})}clearAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:`.${window.location.host}`;b().remove(E,{domain:e})}},x=class{constructor(e,t){this.onIntent=e,this.rootElement=document.documentElement,this.config={delay:250,initialGracePeriod:1e3,...t}}fire=()=>{this.uninstall(),this.onIntent()};install=()=>{setTimeout((()=>{this.rootElement.addEventListener("mouseenter",this.onMouseEnter),this.rootElement.addEventListener("mouseleave",this.onMouseLeave),this.rootElement.addEventListener("keydown",this.onKeydown)}),this.config.initialGracePeriod)};onKeydown=e=>{!0===e.metaKey&&76===e.keyCode&&(this.fireTimer=setTimeout(this.fire,this.config.delay))};onMouseEnter=()=>{this.fireTimer&&(clearTimeout(this.fireTimer),this.fireTimer=null)};onMouseLeave=e=>{e.clientY<=0&&(this.fireTimer=setTimeout(this.fire,this.config.delay))};uninstall=()=>{this.rootElement.removeEventListener("mouseenter",this.onMouseEnter),this.rootElement.removeEventListener("mouseleave",this.onMouseLeave),this.rootElement.removeEventListener("keydown",this.onKeydown)}},O=class{constructor(e,t){this.onExecute=t,this.trigger=e}fire(){this.uninstall(),this.onExecute()}install=()=>{const e=this.trigger?.options?.seconds;null!=e&&(this.timer=setTimeout((()=>{this.fire()}),1e3*e))};uninstall(){clearTimeout(this.timer)}},R=class{constructor(e){this.onExecute=e,this.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,0),this.onScroll=this.onScroll.bind(this)}fire(){this.uninstall(),this.onExecute()}install(){this.height>0&&window.addEventListener("scroll",this.onScroll)}onScroll(){window.scrollY+window.innerHeight/2>this.height/2&&this.fire()}uninstall(){window.removeEventListener("scroll",this.onScroll)}};class k{constructor(e,t,r){this.data=e,this.onExecute=t,this.onInstalled=r,this.install(),this.onInstalled(this)}}class C extends k{install(){this.impl=new x((()=>{this.onExecute()})),this.impl.install()}uninstall(){this.impl.uninstall()}}class T extends k{install(){this.impl=new O(this.data,(()=>{this.onExecute()})),this.impl.install()}uninstall(){this.impl.uninstall()}}class j extends k{install(){this.impl=new R((()=>{this.onExecute()})),this.impl.install()}uninstall(){this.impl.uninstall()}}const I=e=>null==e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length,A="API_HOST",P="API_KEY",D="COOKIE_DOMAIN",N="INSTALL_ON_LOAD",L="UI_STYLE",U="SCRIPT_HOST",M="REQUIRE_EXTERNAL_ID";class B{constructor(e,t,r){this.defaultValue=t,this.description=r,this.key=e}}const F={[A]:new B("apiHost",void 0,"Sets the hostname of the API to use"),[P]:new B("apiKey","","API key"),[D]:new B("cookieDomain",void 0,"Domain to be used for the auth cookie"),[N]:new B("installOnLoad",!0,"Determine if iterate should be installed as soon as the script loads"),[U]:new B("scriptHost","https://platform.iteratehq.com","Sets the hostname to load scripts from"),[L]:new B("uiStyle","web","UI style to use (web or native)"),[M]:new B("requireExternalId",!1,"Require an external ID to be set before showing a survey")},H=new class{constructor(e){this.allSettings=e||{},this.globalSettingsObject=window.iterateSettings}get(e){const t=this.allSettings[e];return null!=this.globalSettingsObject[t.key]?this.globalSettingsObject[t.key]:t.defaultValue}}(F),$=()=>{let e="survey.js";e="survey-prod-43a78a9d7997718d2d35.js";const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="iterate-survey-script",t.src=`${H.get(U)}/${e}`;const r=document.getElementsByTagName("script")[0];r.parentNode&&!document.getElementById(t.id)&&r.parentNode.insertBefore(t,r)},q=()=>{(()=>{const e="style-b91d6a2ac09eaa87bf06.css",t=document.createElement("link");let r;t.rel="stylesheet",t.type="text/css",t.href=`${H.get(U)}/${e}`,t.id="iterate-style",t.onload=$,t.onerror=()=>{o.error("Failed to load CSS file")},document.getElementsByTagName("head")[0]&&(r=document.getElementsByTagName("head")[0].lastChild),r&&r.parentNode&&!document.getElementById(t.id)&&r.parentNode.insertBefore(t,r.nextSibling)})()},V=new class{constructor(){this.isLocked=!1,this.queue=[]}executeNextRequest=()=>{this.queue.length>0?(this.isLocked=!0,this.queue.shift()(this.executeNextRequest.bind(this))):this.isLocked=!1};getLock=()=>{const e=new Promise((e=>this.queue.push(e)));return this.isLocked||this.executeNextRequest(),e};runExclusively=e=>this.getLock().then((t=>{let r;try{r=e()}catch(e){throw t(),e}return Promise.resolve(r).then((e=>(t(),e)),(e=>{throw t(),e}))}))},K=(e,t)=>(e.setUserKey(t),{type:"AUTH_LOADED",token:t}),W=e=>({type:"UPDATE_CONTEXT",context:e}),X=()=>(e,t)=>{const r=t(),n=r.context?.browser?.url;e({type:"UPDATE_CONTEXT_PREVIEW",previewModeData:(e=>{const t="string"==typeof e&&24===e.length;return{isInPreviewModeParam:e,isPreviewingSpecificSurvey:t,isInPreviewMode:t||"true"===e}})(v("iterate_preview",n))})},J=(t,r,n)=>(i,s)=>{const a=s();if(a.embed.surveyVisible||a.embed.promptVisible)return Promise.resolve(!1);if(!0===H.get(M)&&null==a.context?.user_traits?.external_id)return Promise.resolve(!1);const l=r??s().context;return l.type="web",V.runExclusively((()=>t.surveys.embed(l,n).then((r=>{const n=e();if(r.errors)o=r.errors,o.findIndex((e=>103===e.code))>-1&&(g.clear(),i(W({user_traits:{}})));else if(r.results&&r.results.auth){S.saveAuth(r.results.auth.token,r.results.auth.domain,{thirdParty:null!=l.browser?.cookie_domain}),i(K(t,r.results.auth.token));const e=f.get(d)||0;f.set(d,e+1)}var o;if(i({type:"CALLED_EMBED"}),null!=r.results&&null!=r.results.tracking&&null!=r.results.tracking.last_updated&&(f.set(h,r.results.tracking.last_updated),i({type:"UPDATE_CONTEXT_TRACKING_LAST_UPDATED",lastUpdated:r.results.tracking.last_updated})),null!=r?.results?.event_traits){const e={...a.context?.event_traits??{},...r.results.event_traits};l.event_traits=e,i(W({event_traits:e}))}return null!=r.results&&(t=>{const r=e();null!=r?.onLoad&&r.onLoad(t)})(r.results.survey),n.state=s(),null==r.results?.survey&&null==r.results?.triggers||(null!=r.results?.survey&&(n.contextBySurvey=n.contextBySurvey??{},n.contextBySurvey[r.results.survey.id]=l),n.survey=r.results.survey,n.triggers=r.results.triggers),r.results})).catch((e=>(o.error(e),!1)))))},z=t=>(r,n)=>{const i=n(),{survey:s}=i;t.surveys.displayed(s.id).then((e=>(r({type:"CREATE_DISPLAYED_SUCCESS",displayed:e.results}),e))).catch((e=>(o.error(e),!1))),(()=>{const t=e();null!=t?.IterableCallbacks?.onShow&&t.IterableCallbacks.onShow()})(),I(s)||I(s.prompt)?void 0!==s&&(r({type:"WAS_SHOWN"}),r({type:"SHOW_SURVEY"})):(r({type:"WAS_SHOWN"}),r({type:"SHOW_PROMPT"}))},G=(e,t)=>r=>{t.forEach(((t,n)=>{((e,t,r)=>{switch(e.type){case"exit":return new C(e,t,r);case"scroll":return new j(e,t,r);case"seconds":return new T(e,t,r)}o.error(new Error("Invalid trigger"))})(t,(()=>{r(Y(e,n))}),(e=>{r(Z(e))}))}))},Y=(e,t)=>r=>{r({type:"TRIGGER_EXECUTED",index:t}),r(z(e))},Z=e=>({type:"TRIGGER_INSTALLED",trigger:e}),Q=()=>(e,t)=>{t().triggers.installed.forEach((e=>{e.uninstall()})),e(re()),e({type:"CLEAR_SURVEY"}),e({type:"CLEAR_TRIGGERS"})},ee=t=>r=>{r({type:"HIDE_PROMPT"}),r({type:"HIDE_SURVEY"}),(()=>{const t=e();null!=t?.IterableCallbacks?.onClose&&t.IterableCallbacks.onClose()})(),setTimeout((()=>{void 0!==t&&t(),r({type:"REMOVE_PROMPT"}),r({type:"REMOVE_SURVEY"}),(()=>{const t=e();null!=t.onClose&&t.onClose()})()}),150)},te=e=>({type:"UPDATE_CONTEXT_URL",url:e}),re=()=>({type:"CLEAR_EVENT"}),ne=(t,r,n)=>(i,s)=>{i(J(t,r,n)).then((r=>{if(null!=r?.survey){if(!1!==s().embed.surveyBundleLoaded){const r=e();return i(((e,t,r)=>n=>{null!=t&&n((e=>({type:"FETCH_SURVEY_DETAIL_SUCCESS",survey:e}))(t)),null!=r&&r.length>0?n(G(e,r)):n(z(e))})(t,r.survey,r.triggers))}q()}return!1})).catch((e=>(o.error(e),!1)))},oe={};let ie;const se={},ae=class extends i{name(){return"show"}run(){let e,t,r,n={};for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];switch(i.length){case 2:[t,r]=i;break;case 3:[e,t,r]=i;break;default:[e,n,t,r]=i}let a={};null!=e&&(a={trigger:{options:n,survey_id:e,type:"manual"}});const l={...r.context,...a};this.debouncedFetchSurveyEmbedAndInit(t,l,e)}debouncedFetchSurveyEmbedAndInit(e,t,r){return null!=se[r]&&clearTimeout(se[r]),se[r]=setTimeout((()=>{se[r]=null,e(ne(this.api,t))}),500),se[r]}},le=new class{status=e=>{const t="true"===v("iterate_opt_out",e),r="true"===S.loadOptOut(),n=t||r;return t&&!r&&S.saveOptOut(),n}},ce=[class extends i{name(){return"attach"}run(e,t,r){let n={};if(null==e)return void console.warn("Iterate: No survey id passed to Iterate('attach')");if(n={trigger:{survey_id:e,type:"manual"}},null==document.querySelector(`[data-iterate-survey-id="${e}"]`))return void console.warn(`Iterate: No element found on the page with an attribute data-iterate-survey-id="${e}"`);const o={"X-Iterate-Survey-Id":e},i={...r.context,...n};this.debouncedFetchSurveyEmbedAndInit(t,i,e,o)}debouncedFetchSurveyEmbedAndInit(e,t,r,n){return null!=oe[r]&&clearTimeout(oe[r]),oe[r]=setTimeout((()=>{oe[r]=null,e(ne(this.api,t,n))}),500),oe[r]}},class extends i{name(){return"event"}run(){let e,t,r;for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];if(2===o.length?[t,r]=o:[e,t,r]=o,null==e)return;const s={event:{name:e}},a={...r.context,...s};t(ne(this.api,a))}},class extends i{name(){return"iterable"}run(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const[o,i]=r;if(4!==r.length)throw new Error("Iterable command requires 2 parameters: embeddedManager, embeddedSessionManager");if(null==o||null==i)throw new Error("Iterable command requires 2 parameters: embeddedManager, embeddedSessionManager");const s=t=>{if(t.length>0)for(const r of t)if("iterate_survey"===r?.payload?.type&&null!=r?.payload?.survey_id){const t=e();return t.IterableCallbacks={onShow:()=>{i.startSession(),i.startImpression(r?.metadata?.messageId,r?.metadata?.placementId)},onClose:()=>{i.pauseImpression(r?.metadata?.messageId),i.endSession()}},void t("install",r.payload.survey_id)}};s(o.getMessages()),o.addUpdateListener({onMessagesUpdated:()=>{s(o.getMessages())}})}},class extends i{name(){return"identify"}run(){let e,t,r,n;for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];switch(i.length){case 2:[r,n]=i;break;case 3:[t,r,n]=i;break;default:[t,e,r,n]=i}const a=g.update(t,(e=>r(W(e)))),l=n.context?.event_traits,c=!1!==g.validateTypes(e)?g.validateTypes(e):{},u=JSON.stringify(l)!==JSON.stringify(c);u&&r(W({event_traits:c})),!0!==n.embed.calledEmbed||!0!==a&&!u||this.debouncedFetchSurveyEmbedAndInit(r)}debouncedFetchSurveyEmbedAndInit(e){return null!=ie&&clearTimeout(ie),ie=setTimeout((()=>{ie=null,e(ne(this.api))}),500),ie}},class extends ae{name(){return"install"}},class extends i{name(){return"onClose"}run(t){e().onClose=t}},class extends i{name(){return"onLoad"}run(t){e().onLoad=t}},class extends i{name(){return"onResponse"}run(t){e().onResponse=t}},class extends i{name(){return"reset"}run(){let e,t;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];3===n.length?[t,e]=n:[e]=n,e(function(){let{domain:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{f.delete(),S.clearAuth(e),t({type:"CLEAR_USER_DATA"})}}(t))}},ae,class extends i{name(){return"uninstall"}run(e,t,r,n){let o=r;n||(o=t),o(ee()),o(Q())}},class extends i{name(){return"url"}run(){let e,t;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];switch(n.length){case 2:[e]=n;break;case 3:[t,e]=n}le.status(t),e(te(t)),e(X())}}],ue=class{constructor(e,t){this.client=e,this.path=t}get(e){return this.client.get(`${this.path}/${e}`)}create(e){return this.client.post(this.path,e)}},he=class extends ue{constructor(e){super(e,"/surveys")}dismiss(e){return this.client.post(`${this.path}/${e}/dismiss`)}displayed(e){return this.client.post(`${this.path}/${e}/displayed`)}updateDisplayed(e,t,r){return this.client.put(`${this.path}/${e}/displayed/${t}`,r,{json:!0})}embed(e,t){return this.client.post(`${this.path}/embed`,e,{json:!0,headers:t})}matchesUrl(e,t){return this.client.post(`${this.path}/${e}/matches_url`,t,{json:!0})}},de=class extends ue{constructor(e,t){super(e,`/companies/${t}/feedback`),this.companyId=t}update(e,t){return this.client.put(`/companies/${this.companyId}/feedback/${e}`,t)}},pe=class{constructor(e){let{fetchOverride:t,host:r,companyKey:n}=e;this.VERSION=20160516,this.host=r,this.companyKey=n,this.fetchOverride=t,this.surveys=new he(this),this.feedback=e=>new de(this,e)}fetch(e,t,r,n){const o={...n,method:e,headers:{...r,Authorization:`Bearer ${void 0!==this.userKey?this.userKey:this.companyKey}`}};let i;return i=void 0!==this.fetchOverride?this.fetchOverride(this.host+t,o):fetch(this.host+t,o),i.then((e=>e.json()))}get(e){const t=e.indexOf("?")>=0?"&":"?",r=`${e}${t}v=${this.VERSION}`;return this.fetch("GET",r)}post(e,t,r){let n,o;r&&r.json?(o="application/json",n=JSON.stringify({...t,v:this.VERSION})):(o="application/x-www-form-urlencoded",n=m({...t,v:this.VERSION}));const i={...r?.headers,"Content-Type":o};return this.fetch("POST",e,i,{body:n})}put(e,t,r){let n,o;return r&&r.json?(o="application/json",n=JSON.stringify({...t,v:this.VERSION})):(o="application/x-www-form-urlencoded",n=m({...t,v:this.VERSION})),this.fetch("PUT",e,{"Content-Type":o},{body:n})}setUserKey(e){this.userKey=e}},fe=new class{env(){return window.Betamax&&Betamax.config&&Betamax.config.env?Betamax.config.env:"prod"}apiHost(){if("dev"===this.env()){let e=`${window.location.protocol}//${window.location.hostname}`;return"file://"===e&&(e="http://localhost:8080"),"8081"===window.location.port?e+=":8080":""!==window.location.port&&(e+=`:${window.location.port}`),`${e}/api/v1`}return window.Betamax&&Betamax.config&&Betamax.config.api_root_url?Betamax.config.api_root_url:"https://iteratehq.com/api/v1"}isProd(){return"prod"===this.env()}};function ge(e){return ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ge(e)}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ve(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ye(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var be="function"==typeof Symbol&&Symbol.observable||"@@observable",Ee=function(){return Math.random().toString(36).substring(7).split("").join(".")},we={INIT:"@@redux/INIT"+Ee(),REPLACE:"@@redux/REPLACE"+Ee(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ee()}};function Se(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(_e(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(_e(1));return r(Se)(e,t)}if("function"!=typeof e)throw new Error(_e(2));var o=e,i=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(_e(3));return i}function h(e){if("function"!=typeof e)throw new Error(_e(4));if(l)throw new Error(_e(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(_e(6));t=!1,c();var r=a.indexOf(e);a.splice(r,1),s=null}}}function d(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(_e(7));if(void 0===e.type)throw new Error(_e(8));if(l)throw new Error(_e(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=s=a,r=0;r<t.length;r++)(0,t[r])();return e}return d({type:we.INIT}),(n={dispatch:d,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(_e(10));o=e,d({type:we.REPLACE})}})[be]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(_e(11));function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[be]=function(){return this},e},n}function xe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Oe(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var Re=Oe();Re.withExtraArgument=Oe;const ke=Re,Ce={},Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_LOADED":return{...e,token:t.token};case"CLEAR_USER_DATA":return Ce;default:return e}},je={},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_EVENT":return{...e,event:void 0};case"CLEAR_EVENT_TRAITS":return{...e,event_traits:void 0};case"CLEAR_TRIGGERS":return{...e,trigger:void 0};case"CLEAR_USER_DATA":return{...e,event_traits:void 0,user_traits:void 0,tracking:void 0};case"UPDATE_CONTEXT":return{...e,...t.context};case"UPDATE_CONTEXT_PREVIEW":{const{previewModeData:r}=t,n={...e.targeting??{}};return!0===r.isInPreviewMode?n.frequency="always":delete n.frequency,!0===r.isPreviewingSpecificSurvey?n.survey_id=r.isInPreviewModeParam:delete n.survey_id,{...e,targeting:n}}case"UPDATE_CONTEXT_TRACKING_LAST_UPDATED":return{...e,tracking:{last_updated:t.lastUpdated}};case"UPDATE_CONTEXT_URL":return{...e,browser:{...e.browser,url:t.url}};default:return e}},Ae={},Pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;return"CREATE_DISPLAYED_SUCCESS"===t.type?{...t.displayed}:e},De={calledEmbed:!1,surveyVisible:!1,surveyRemoved:!0,promptVisible:!1,promptRemoved:!0,surveyBundleLoaded:!1},Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De;switch((arguments.length>1?arguments[1]:void 0).type){case"CALLED_EMBED":return{...e,calledEmbed:!0};case"SHOW_SURVEY":return{...e,surveyRemoved:!1,surveyVisible:!0};case"CLEAR_SURVEY":return{...e,surveyRemoved:!0,surveyVisible:!1,promptRemoved:!0,promptVisible:!1};case"HIDE_SURVEY":return{...e,surveyVisible:!1};case"REMOVE_SURVEY":return{...e,surveyRemoved:!0};case"SHOW_PROMPT":return{...e,promptRemoved:!1,promptVisible:!0};case"HIDE_PROMPT":return{...e,promptVisible:!1};case"REMOVE_PROMPT":return{...e,promptRemoved:!0};case"WAS_SHOWN":return{...e,wasShown:!0};case"SURVEY_BUNDLE_LOADED":return{...e,surveyBundleLoaded:!0};default:return e}},Le={installed:[],executed:!1},Ue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_TRIGGERS":return Le;case"TRIGGER_EXECUTED":{const r=e.installed.slice();return r[t.index]&&(r[t.index].executed=!0),{...e,executed:!0,installed:r}}case"TRIGGER_INSTALLED":{const r=e.installed.slice();return r.push(t.trigger),{...e,installed:r}}default:return e}},Me=new class{show=()=>{const e=document.createElement("div"),t=document.createElement("div");t.textContent="✅ Iterate script installed successfully!",e.appendChild(t),e.id="iterate-debug",e.style.alignItems="center",e.style.backgroundColor="white",e.style.border="2px solid #9E7ECF",e.style.borderRadius="12px",e.style.boxShadow="#E5DDF3 0 0 0 2px",e.style.display="flex",e.style.justifyContent="center",e.style.left="24px",e.style.padding="16px 20px",e.style.position="fixed",e.style.top="24px",e.style.zIndex="2147483647",null!=document.body&&document.body.appendChild(e)}},Be=new class{isSupported(e){return!(e?.indexOf("MSIE")>-1||e?.indexOf("Trident")>-1)}};function Fe(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}Fe.prototype=Error.prototype;var He=setTimeout;function $e(e){return Boolean(e&&void 0!==e.length)}function qe(){}function Ve(e){if(!(this instanceof Ve))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ge(e,this)}function Ke(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Ve._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void Xe(t.promise,e)}We(t.promise,n)}else(1===e._state?We:Xe)(t.promise,e._value)}))):e._deferreds.push(t)}function We(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof Ve)return e._state=3,e._value=t,void Je(e);if("function"==typeof r)return void Ge((n=r,o=t,function(){n.apply(o,arguments)}),e)}e._state=1,e._value=t,Je(e)}catch(t){Xe(e,t)}var n,o}function Xe(e,t){e._state=2,e._value=t,Je(e)}function Je(e){2===e._state&&0===e._deferreds.length&&Ve._immediateFn((function(){e._handled||Ve._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)Ke(e,e._deferreds[t]);e._deferreds=null}function ze(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function Ge(e,t){var r=!1;try{e((function(e){r||(r=!0,We(t,e))}),(function(e){r||(r=!0,Xe(t,e))}))}catch(e){if(r)return;r=!0,Xe(t,e)}}Ve.prototype.catch=function(e){return this.then(null,e)},Ve.prototype.then=function(e,t){var r=new this.constructor(qe);return Ke(this,new ze(e,t,r)),r},Ve.prototype.finally=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))},Ve.all=function(e){return new Ve((function(t,r){if(!$e(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var o=n.length;function i(e,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){i(e,t)}),r)}n[e]=s,0==--o&&t(n)}catch(e){r(e)}}for(var s=0;s<n.length;s++)i(s,n[s])}))},Ve.any=function(e){var t=this;return new t((function(r,n){if(!e||void 0===e.length)return n(new TypeError("Promise.any accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return n();for(var i=[],s=0;s<o.length;s++)try{t.resolve(o[s]).then(r).catch((function(e){i.push(e),i.length===o.length&&n(new Fe(i,"All promises were rejected"))}))}catch(e){n(e)}}))},Ve.allSettled=function(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var o=n.length;function i(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var s=r.then;if("function"==typeof s)return void s.call(r,(function(t){i(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--o&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--o&&t(n)}for(var s=0;s<n.length;s++)i(s,n[s])}))},Ve.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Ve?e:new Ve((function(t){t(e)}))},Ve.reject=function(e){return new Ve((function(t,r){r(e)}))},Ve.race=function(e){return new Ve((function(t,r){if(!$e(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,o=e.length;n<o;n++)Ve.resolve(e[n]).then(t,r)}))},Ve._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){He(e,0)},Ve._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const Ye=Ve;(()=>{if(fe.isProd()&&n().config("https://8046d78b2f7c4d73a87522ff9680419d@sentry.io/173515",{captureUnhandledRejections:!1,collectWindowErrors:!1,whitelistUrls:[/.*\/loader\.js/i,/.*\/match-prod-.*\.js/i,/.*\/survey-prod-.*\.js/i]}).noConflict(),window.Promise||(window.Promise=Ye),"true"===v("iterate_debug",window.location.href)&&Me.show(),!Be.isSupported(window.navigator.userAgent)||!0===le.status(window.location.href)||!1===window.navigator.cookieEnabled)return;const e=H.get(P);if(void 0===e)return void console.warn("Missing Iterate API key. Please set the `apiKey` property in the `iterateSettings` object.");let t=H.get(A);void 0===t&&(t=fe.apiHost());const r=new pe({companyKey:e,host:t}),i=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||xe,a=Se(function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var o=t[n];"function"==typeof e[o]&&(r[o]=e[o])}var i,s=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if(void 0===r(void 0,{type:we.INIT}))throw new Error(_e(12));if(void 0===r(void 0,{type:we.PROBE_UNKNOWN_ACTION()}))throw new Error(_e(13))}))}(r)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var n=!1,o={},a=0;a<s.length;a++){var l=s[a],c=r[l],u=e[l],h=c(u,t);if(void 0===h)throw t&&t.type,new Error(_e(14));o[l]=h,n=n||h!==u}return(n=n||s.length!==Object.keys(e).length)?o:e}}({auth:Te,context:Ie,displayed:Pe,embed:Ne,triggers:Ue}),i(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(_e(15))},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return n=xe.apply(void 0,i)(r.dispatch),ye(ye({},r),{},{dispatch:n})}}}(ke))),l=new s(r,(e=>{return a.dispatch((t=e,(e,r)=>{t(e,r())}));var t}),ce);new y(r,((e,t)=>a.dispatch(((e,t)=>(r,n)=>{let i=n();const s=i.context?.browser?.url;s!==t&&(r(Q()),r(te(t)),r({type:"CLEAR_EVENT_TRAITS"}),r(X()),i=n(),(i.embed.promptVisible||i.embed.surveyVisible)&&null!=i.survey.id?e.surveys.matchesUrl(i.survey.id,i.context).then((e=>(!1===e.results.matches&&r(ee()),e.results.matches))).catch((e=>{o.error(e)})):r(ne(e)))})(e,t)))),a.dispatch((e=>(t,r)=>{const n=S.loadAuth()??r().auth?.token;void 0!==n&&t(K(e,n))})(r)),(e=>{const t={browser:{url:window.location.href},user_traits:g.get()};null!=H.get(D)&&(t.browser.cookie_domain=H.get(D)),null!=f.get(h)&&(t.tracking={last_updated:f.get(h)}),null!=H.get(L)&&(t.app={ui_style:H.get(L)}),e(W(t)),e(X())})(a.dispatch),l.init(),!1!==H.get(N)&&a.dispatch(J(r)).then((e=>(null!=e?.survey&&q(),!0))).catch((e=>(o.error(e),!1)))})()})()})();